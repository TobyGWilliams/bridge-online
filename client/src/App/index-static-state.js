import React, { useState, useEffect } from "react";
import { Helmet } from "react-helmet";

import App from "./App";

import sendAction from "../util/send-action";
import GameContext from "../GameContext";

import "./index.css";

const port = 7777;

const Wrapper = () => {
  const state = {
    contracts: [
      [1, "CLUB"],
      [1, "DIAMOND"],
      [1, "HEART"],
      [1, "SPADE"],
      [1, "NO_TRUMPS"],
      [2, "CLUB"],
      [2, "DIAMOND"],
      [2, "HEART"],
      [2, "SPADE"],
      [2, "NO_TRUMPS"],
      [3, "CLUB"],
      [3, "DIAMOND"],
      [3, "HEART"],
      [3, "SPADE"],
      [3, "NO_TRUMPS"],
      [4, "CLUB"],
      [4, "DIAMOND"],
      [4, "HEART"],
      [4, "SPADE"],
      [4, "NO_TRUMPS"],
      [5, "CLUB"],
      [5, "DIAMOND"],
      [5, "HEART"],
      [5, "SPADE"],
      [5, "NO_TRUMPS"],
      [6, "CLUB"],
      [6, "DIAMOND"],
      [6, "HEART"],
      [6, "SPADE"],
      [6, "NO_TRUMPS"],
      [7, "CLUB"],
      [7, "DIAMOND"],
      [7, "HEART"],
      [7, "SPADE"],
      [7, "NO_TRUMPS"],
    ],
    currentBid: [3, "HEART"],
    currentPlayer: {
      name: "player1Name",
      connectionId: "d6065eca-4d80-4102-9894-75f122f449b4",
      cards: [
        ["5", "CLUB"],
        ["3", "HEART"],
        ["6", "CLUB"],
        ["9", "SPADE"],
        ["7", "DIAMOND"],
        ["7", "SPADE"],
        ["2", "HEART"],
        ["KING", "SPADE"],
        ["5", "DIAMOND"],
        ["10", "SPADE"],
        ["4", "DIAMOND"],
        ["5", "HEART"],
        ["8", "HEART"],
      ],
      bid: "PASS",
      availableContracts: [
        [3, "SPADE"],
        [3, "NO_TRUMPS"],
        [4, "CLUB"],
        [4, "DIAMOND"],
        [4, "HEART"],
        [4, "SPADE"],
        [4, "NO_TRUMPS"],
        [5, "CLUB"],
        [5, "DIAMOND"],
        [5, "HEART"],
        [5, "SPADE"],
        [5, "NO_TRUMPS"],
        [6, "CLUB"],
        [6, "DIAMOND"],
        [6, "HEART"],
        [6, "SPADE"],
        [6, "NO_TRUMPS"],
        [7, "CLUB"],
        [7, "DIAMOND"],
        [7, "HEART"],
        [7, "SPADE"],
        [7, "NO_TRUMPS"],
      ],
      currentUserAction: false,
      declarer: true,
      dummy: false,
      direction: "north",
    },
    declarer: "north",
    dummy: "south",
    gameId: "ed086b70-c236-4af6-8114-a2191084d46e",
    messageSequence: 49,
    players: {
      north: {
        name: "player1Name",
        bid: "PASS",
        availableContracts: [
          [3, "SPADE"],
          [3, "NO_TRUMPS"],
          [4, "CLUB"],
          [4, "DIAMOND"],
          [4, "HEART"],
          [4, "SPADE"],
          [4, "NO_TRUMPS"],
          [5, "CLUB"],
          [5, "DIAMOND"],
          [5, "HEART"],
          [5, "SPADE"],
          [5, "NO_TRUMPS"],
          [6, "CLUB"],
          [6, "DIAMOND"],
          [6, "HEART"],
          [6, "SPADE"],
          [6, "NO_TRUMPS"],
          [7, "CLUB"],
          [7, "DIAMOND"],
          [7, "HEART"],
          [7, "SPADE"],
          [7, "NO_TRUMPS"],
        ],
        declarer: true,
        dummy: false,
        isUser: true,
        currentUserAction: false,
        cards: [
          ["5", "CLUB"],
          ["3", "HEART"],
          ["6", "CLUB"],
          ["9", "SPADE"],
          ["7", "DIAMOND"],
          ["7", "SPADE"],
          ["2", "HEART"],
          ["KING", "SPADE"],
          ["5", "DIAMOND"],
          ["10", "SPADE"],
          ["4", "DIAMOND"],
          ["5", "HEART"],
          ["8", "HEART"],
        ],
        numberOfCardsHeld: 13,
      },
      south: {
        name: "player3Name",
        bid: [3, "HEART"],
        availableContracts: [
          [3, "SPADE"],
          [3, "NO_TRUMPS"],
          [4, "CLUB"],
          [4, "DIAMOND"],
          [4, "HEART"],
          [4, "SPADE"],
          [4, "NO_TRUMPS"],
          [5, "CLUB"],
          [5, "DIAMOND"],
          [5, "HEART"],
          [5, "SPADE"],
          [5, "NO_TRUMPS"],
          [6, "CLUB"],
          [6, "DIAMOND"],
          [6, "HEART"],
          [6, "SPADE"],
          [6, "NO_TRUMPS"],
          [7, "CLUB"],
          [7, "DIAMOND"],
          [7, "HEART"],
          [7, "SPADE"],
          [7, "NO_TRUMPS"],
        ],
        declarer: false,
        dummy: true,
        isUser: false,
        currentUserAction: false,
        numberOfCardsHeld: 13,
      },
      east: {
        name: "player2Name",
        bid: "PASS",
        availableContracts: [
          [3, "SPADE"],
          [3, "NO_TRUMPS"],
          [4, "CLUB"],
          [4, "DIAMOND"],
          [4, "HEART"],
          [4, "SPADE"],
          [4, "NO_TRUMPS"],
          [5, "CLUB"],
          [5, "DIAMOND"],
          [5, "HEART"],
          [5, "SPADE"],
          [5, "NO_TRUMPS"],
          [6, "CLUB"],
          [6, "DIAMOND"],
          [6, "HEART"],
          [6, "SPADE"],
          [6, "NO_TRUMPS"],
          [7, "CLUB"],
          [7, "DIAMOND"],
          [7, "HEART"],
          [7, "SPADE"],
          [7, "NO_TRUMPS"],
        ],
        declarer: false,
        dummy: false,
        isUser: false,
        currentUserAction: true,
        numberOfCardsHeld: 13,
      },
      west: {
        name: "player4Name",
        bid: "PASS",
        availableContracts: [
          [3, "SPADE"],
          [3, "NO_TRUMPS"],
          [4, "CLUB"],
          [4, "DIAMOND"],
          [4, "HEART"],
          [4, "SPADE"],
          [4, "NO_TRUMPS"],
          [5, "CLUB"],
          [5, "DIAMOND"],
          [5, "HEART"],
          [5, "SPADE"],
          [5, "NO_TRUMPS"],
          [6, "CLUB"],
          [6, "DIAMOND"],
          [6, "HEART"],
          [6, "SPADE"],
          [6, "NO_TRUMPS"],
          [7, "CLUB"],
          [7, "DIAMOND"],
          [7, "HEART"],
          [7, "SPADE"],
          [7, "NO_TRUMPS"],
        ],
        declarer: false,
        dummy: false,
        isUser: false,
        currentUserAction: false,
        numberOfCardsHeld: 13,
      },
    },
    seed: "this is the game seed",
    state: "LEADING_FIRST_CARD",
  };

  return (
    <GameContext.Provider
      value={{
        state: state,
        connected: true,
        sendMessage: () => {},
      }}
    >
      <Helmet>
        <meta
          name="player-cards"
          content={JSON.stringify(gameState?.currentPlayer?.cards)}
        />
        <meta name="game-id" content={gameState?.gameId} />
        <meta name="game-state" content={gameState?.state} />
        <meta name="state" content={JSON.stringify(gameState)} />
      </Helmet>
      <App />
    </GameContext.Provider>
  );
};

export default Wrapper;
